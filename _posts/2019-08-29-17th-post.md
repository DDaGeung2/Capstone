---
title:  "졸업프로젝트 week17"
excerpt: "AOSP 빌드준비 / AOSP 빌드"

categories:
  - study
tags:
  - study
last_modified_at: 2019-08-29T08:06:00-05:00
---

이번주는 팀원들의 일정이 맞지 않아 따로 모여서 진행을 하지 못 하였고, 각자 할 부분에 대해서 하기로 했다. 저번주에 언급했듯, 현재 팀에서 컴퓨터 한 대로만 빌드를 하고 있기 때문에, 나는 빌드환경구축을 서둘러 마무리하기로 하였다.

---

## AOSP 빌드준비

새로 다시 AOSP 빌드를 위해 VMware를 켰는데 계속해서 에러가 났다. 인터넷에 검색한 방법으로 해결해보아도 에러는 해결되지 않았고, 이유가 컴퓨터 성능에 비해 너무 크게 RAM 크기를 잡아서였다. 그래서 VMware를 지웠다.

Oracle VirtualBox로 가상머신을 바꿔볼까 생각하여 설치했으나, VirtualBox는 아예 내 컴퓨터에서 가상머신에 RAM 8GB를 사용하지 못하도록 설정을 막아놓았다. 그래서 다시 VMware를 깔고(추후 에러나는 것은 추후에 생각하기로 했다.) Ubuntu 역시 다시 깔았다. 정말 말 그대로 처음부터 다시 시작하게 되었다. 

[참고링크](https://gamdekong.tistory.com/55?category=763105)를 참고하여, 멘토님의 조언대로 repo sync를 진행하였다. 그러나 지난번과 다른 새로운 에러가 떴다.

![코드설치에러](https://user-images.githubusercontent.com/48465809/63909109-7ded0c80-ca5c-11e9-913b-69b4e37f72a8.PNG)

저번 에러와 비슷하게 어떤 파일이 없다는 에러와 함께 repo sync가 멈췄다. 이를 성공한 친구와의 폴더 개수가 눈에 띄게 달랐다. 받아야할 폴더들이 반 이상이 누락된채 끝나버렸다.

![나 현아 차이](https://user-images.githubusercontent.com/48465809/63909106-7d547600-ca5c-11e9-8039-82ecaff39d3d.PNG)

처음에는 에러에서 없다는 부분을 git clone으로 따로 받아왔다. 그러고 이어받기를 진행하는 옵션 -f 를 주고 repo sync를 하였으나 다른 에러가 또 발생하였다. 결국 git clone으로 받았던 부분을 지우고 강제로 repo sync를 하는 옵션인 --force-sync 를 덧붙여 repo sync를 강제로 이어나갔다. 

이 때 혹시 또 누락되는 일들이 생길까봐 이미 성공한 팀원의 AOSP 폴더를 압축시켜 놓아달라고 부탁했다. 최후의 방법으로 WinSCP를 사용하여 가상머신으로 코드를 옮기는 방법을 생각해 놓았기 때문이다.

--force-sync 옵션 결과 누락되었었던 폴더들이 하나씩 생겨나는게 보였고 마침내 17시간 끝에 아래의 캡쳐화면과 같은 결과를 볼 수 있었다.

![드디어다운성공시발ㅠㅠ](https://user-images.githubusercontent.com/48465809/63909107-7d547600-ca5c-11e9-865c-117f5baff706.PNG)

코드가 제대로 다운 받아진 것 같으므로 다음 단계인 AOSP 빌드를 진행하기로 하였다.

---

## AOSP 빌드

[참고링크](https://gamdekong.tistory.com/56?category=763105)를 참고하여, 빌드를 시도하였다. 수요일 오후 4시 40분부터 빌드를 시작한 것 같은데 자고일어났는데도 여전히 빌드 중이고, 세미나를 가야하는 지금까지도 여전히 빌드중이다.

빌드를 성공한 팀원의 말에 의하면 코드설치보다 빌드가 더 오래걸렸다고 한다. 나는 코드 설치에 17시간이 걸렸으니 빌드에는 얼마나 걸릴지 무섭다. (3일째 노트북 켜놓는 중)

그래도 초기빌드가 유독 오래걸린다 하고, 그 이후로는 부분 빌드나 그런부분에서는 덜 걸릴테니 얌전히 기다리고 있는 중이다. 제발 빌드 결과가 에러만 아니였으면 좋겠다.

